"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" GENERAL

filetype plugin indent on

set history=500
set encoding=utf-8
set autoread

"allow backspacing over everything in insert mode
set backspace=indent,eol,start
let mapleader = ","
let g:mapleader = ","

set showcmd                 "show incomplete cmds down the bottom
set wildmenu                "enhanced command line completion
set wildmode=list:longest   "shell like file completion

set incsearch   "find the next match as we type the search
set smartcase   "be smart when searching
set ignorecase

" ignorance is bliss
set wildignore+=*/tmp/*,*/cache/*,*/dist/*,*.so,*.swp,*.zip

"set numberwidth=2
set nonumber
set foldcolumn=0
set ruler

set nowrap

" display hidden characters
set listchars=tab:▸\ ,nbsp:•,trail:…
set list

" comment formatting help
set tw=78
set formatoptions-=t
set formatoptions+=croql

set autoindent
set shiftwidth=2
set softtabstop=2
set tabstop=2
set expandtab

set nobackup
set noswapfile
set nowritebackup

set hidden "allow me to switch unsaved buffers

set splitbelow
set splitright

" statusline

set laststatus=2

set statusline=\ %t       "tail of the filename
set statusline+=\%r       "read only flag
set statusline+=\%m       "modified flag
set statusline+=\ %y      "filetype
set statusline+=\ %{HasPaste()}      "paste
set statusline+=%=\ row\ %l/%L\ -\ %c "right lines + line

set vb " disable error bell
set kp=:help    " I barely need a man output

syntax enable

"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" CUSTOM COMMANDS

command! CD cd %:p:h
command! KillWhitespace :normal :%s/ *$//g<cr><c-o><cr>

function! HasPaste()
    if &paste
        return '-PST-'
    en
    return ''
endfunction

function! s:setupWrapping()
  set wrap
  set wrapmargin=2
  set textwidth=78
endfunction

"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" AUTO CMD / Filetype based modifications

au FileType make setl noexpandtab

au BufRead,BufNewFile *.{md,markdown,mdown,mkd,mkdn,txt} setf markdown | call s:setupWrapping()

autocmd Filetype gitcommit setlocal spell textwidth=72
